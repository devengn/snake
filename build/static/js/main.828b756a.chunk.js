(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(e,n,t){e.exports=t(2)},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var r=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var i={ENTER:"ENTER",RIGHT:"RIGHT",LEFT:"LEFT",UP:"UP",DOWN:"DOWN"},c=[],a=i.RIGHT;function s(){c.filter(function(e){return e.key===a}).forEach(function(e){return e.cb()})}window.addEventListener("keydown",function(e){switch(e.key.toLowerCase()){case"w":case"arrowup":a=i.UP;break;case"s":case"arrowdown":a=i.DOWN;break;case"d":case"arrowright":a=i.RIGHT;break;case"a":case"arrowleft":a=i.LEFT;break;case"enter":a=i.ENTER}s()});var u={start:{x:0,y:0},move:{x:0,y:0}};function l(e,n){var t="".concat(1e6*Math.random(),"-").concat(new Date-1);return c.push({id:t,key:e,cb:function(){return n(t)}}),t}function d(e,n){l(e,function(e){n(e),function(e){e?c.splice(c.findIndex(function(n){return n.id===e}),1):c.splice(0,c.length)}(e)})}window.addEventListener("touchstart",function(e){var n=e.touches[0];u.start.x=n.clientX,u.start.y=n.clientY,u.move.x=n.clientX,u.move.y=n.clientY}),window.addEventListener("touchmove",function(e){var n=e.touches[0];u.move.x=n.clientX,u.move.y=n.clientY}),window.addEventListener("touchend",function(e){var n=u.move.x-u.start.x,t=u.move.y-u.start.y,r=n<0?-1*n:n,o=t<0?-1*t:t;a=r<10&&o<10?i.ENTER:r>o?n<0?i.LEFT:i.RIGHT:t<0?i.UP:i.DOWN,s()});var f=navigator.userAgent.match(/iPhone|iPad|iPod|Android/i);function v(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}var p=function(){var e={snake:[{y:10,x:10},{y:10,x:9},{y:10,x:8}],apple:{y:10,x:15},score:0,speed:1,countdown:3,gameover:!1,directionQueue:[],direction:"RIGHT"},n=document.querySelector(".gameplay"),t=document.querySelector(".gameplay__score"),r=document.querySelector(".gameplay__speed"),o=document.querySelector(".gameplay__direction"),c=document.querySelector(".gameplay__countdown"),a=document.querySelector(".gameplay__gameover"),s=document.querySelector(".gameplay__gameover-instructions"),u=document.getElementById("canvas");u.width=400,u.height=400;var p=u.getContext("2d");function w(e){navigator.vibrate&&navigator.vibrate(e)}function g(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];p.fillStyle=t?"#82937F":"#707070",p.fillRect(20*e,20*n,1,20),p.fillRect(20*e+19,20*n,1,20),p.fillRect(20*e,20*n,20,1),p.fillRect(20*e,20*n+19,20,1),p.fillRect(20*e+4,20*n+4,12,12)}function m(n,t){return Boolean(e.snake.find(function(e){return e.x===n&&e.y===t}))}function x(){var n=parseInt(localStorage.hs)||0;e.score+=1,e.score>n&&localStorage.setItem("hs",e.score),e.score%3===0&&(e.speed+=1,r.innerHTML=e.speed),t.innerHTML=e.score}function T(n){e.directionQueue[e.directionQueue.length-1]!==n&&e.directionQueue.push(n)}function b(){a.classList.add("hidden"),c.classList.remove("hidden"),t.innerHTML="0",r.innerHTML="1",e.snake=[{y:10,x:10},{y:10,x:9},{y:10,x:8}],e.apple={y:10,x:15},e.score=0,e.speed=1,e.countdown=4,e.gameover=!1,e.directionQueue=[],e.direction="RIGHT",p.clearRect(0,0,400,400),e.snake.forEach(function(e){return g(e.x,e.y)}),L()}function E(){var n=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(t,!0).forEach(function(n){y(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},e.snake[0]),t=e.snake[1],r=e.apple;e.directionQueue.length>0&&(e.direction=e.directionQueue.splice(0,1)[0]);var o=e.direction;"RIGHT"===o&&(n.x+=1,n.x===t.x&&n.y===t.y&&(n.x-=2)),"LEFT"===o&&(n.x-=1,n.x===t.x&&n.y===t.y&&(n.x+=2)),"UP"===o&&(n.y-=1,n.x===t.x&&n.y===t.y&&(n.y+=2)),"DOWN"===o&&(n.y+=1,n.x===t.x&&n.y===t.y&&(n.y-=2));var c=n.x===r.x&&n.y===r.y,s=n.x<0||n.x>=20||n.y<0||n.y>=20,u=m(n.x,n.y);if(e.gameover=s||u,!1===e.gameover?e.snake=[n].concat(v(e.snake.slice(0,e.snake.length-(c?0:1)))):w(1e3),c){for(var l=[],f=0;f<20;f++)for(var T=0;T<20;T++)!1===m(T,f)&&l.push({x:T,y:f});e.apple=l[Math.floor(Math.random()*l.length)],w(100),x()}!function(){if(p.clearRect(0,0,400,400),e.gameover){for(var n=0;n<20;n++)for(var t=0;t<20;t++)!1===m(t,n)&&g(t,n);a.classList.remove("hidden"),d(i.ENTER,b)}else{e.snake.forEach(function(e){var n=e.x,t=e.y;return g(n,t)}),g(e.apple.x,e.apple.y,!0);var r=320-16*e.speed;r<16&&(r=16),setTimeout(E,r)}}()}function L(){if(e.countdown-=1,0===e.countdown)return c.classList.add("hidden"),void E();c.innerHTML=e.countdown,setTimeout(L,1e3)}l(i.RIGHT,function(){T("RIGHT"),o.innerHTML="R"}),l(i.LEFT,function(){T("LEFT"),o.innerHTML="L"}),l(i.UP,function(){T("UP"),o.innerHTML="U"}),l(i.DOWN,function(){T("DOWN"),o.innerHTML="D"}),n.classList.remove("hidden"),s.innerHTML=f?"Tap to restart":"Press ENTER to restart",setTimeout(L,1e3),e.snake.forEach(function(e){return g(e.x,e.y)})};t(1);function w(){var e=document.querySelector(".game");e.setAttribute("style","");var n=e.getBoundingClientRect(),t=window.innerWidth-64,r=window.innerHeight-64;if(n.width>n.height){var o=.5628*t;if(o>r){var i=1.77777777778*r;return e.style.width="".concat(i,"px"),void(e.style.height="".concat(r,"px"))}return e.style.width="".concat(t,"px"),void(e.style.height="".concat(o,"px"))}var c=.5628*r;e.style.width="".concat(c,"px"),e.style.height="".concat(r,"px")}!function(){var e=document.querySelector(".intro");document.querySelector(".intro__hs__number").innerHTML=localStorage.getItem("hs")||0,document.querySelector(".intro__instructions").innerHTML=f?"Tap to start":"Press ENTER to start",d(i.ENTER,function(){e.classList.add("hidden"),p()})}(),window.addEventListener("load",w),window.addEventListener("resize",w),document.addEventListener("touchmove",function(e){e.preventDefault()},{passive:!1}),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat(".","/service-worker.js");r?(function(e,n){fetch(e).then(function(t){var r=t.headers.get("content-type");404===t.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):o(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):o(n,e)})}}()}],[[0,1]]]);
//# sourceMappingURL=main.828b756a.chunk.js.map